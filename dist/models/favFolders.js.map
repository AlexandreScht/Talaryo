{"version":3,"sources":["../../src/models/favFolders.ts"],"sourcesContent":["import { favFolders } from '@interfaces/models';\nimport { Model, ModelObject, QueryBuilder, QueryBuilderType } from 'objection';\nimport { FavoriModel } from './favoris';\n\nexport class FavFoldersModel extends Model implements favFolders {\n  id: number;\n  userId: number;\n  name: string;\n  count?: string;\n\n  static tableName = 'favFolders';\n  static idColumn = 'id';\n\n  static get relationMappings() {\n    return {\n      favoris: {\n        relation: Model.HasManyRelation,\n        modelClass: FavoriModel,\n        join: {\n          from: 'favFolders.id',\n          to: 'favoris.favFolderId',\n        },\n        modify: (query: QueryBuilderType<FavFoldersModel>) => {\n          query.where({ disabled: false }).select('id');\n        },\n      },\n    };\n  }\n\n  static modifiers = {\n    paginate: (query: QueryBuilder<FavFoldersModel, FavFoldersModel[]>, limit: number, page: number) => query.limit(limit).offset((page - 1) * limit),\n  };\n}\n\nexport type FavoriShape = ModelObject<FavFoldersModel>;\n"],"names":["FavFoldersModel","Model","relationMappings","favoris","relation","HasManyRelation","modelClass","FavoriModel","join","from","to","modify","query","where","disabled","select","id","userId","name","count","tableName","idColumn","modifiers","paginate","limit","page","offset"],"mappings":";;;;+BAIaA;;;eAAAA;;;2BAHsD;yBACvC;;;;;;;;;;;;;;AAErB,IAAA,AAAMA,kBAAN,MAAMA,wBAAwBC,gBAAK;IASxC,WAAWC,mBAAmB;QAC5B,OAAO;YACLC,SAAS;gBACPC,UAAUH,gBAAK,CAACI,eAAe;gBAC/BC,YAAYC,oBAAW;gBACvBC,MAAM;oBACJC,MAAM;oBACNC,IAAI;gBACN;gBACAC,QAAQ,CAACC;oBACPA,MAAMC,KAAK,CAAC;wBAAEC,UAAU;oBAAM,GAAGC,MAAM,CAAC;gBAC1C;YACF;QACF;IACF;;;QAtBAC,uBAAAA,MAAAA,KAAAA;QACAC,uBAAAA,UAAAA,KAAAA;QACAC,uBAAAA,QAAAA,KAAAA;QACAC,uBAAAA,SAAAA,KAAAA;;AAwBF;AAtBE,iBANWnB,iBAMJoB,aAAY;AACnB,iBAPWpB,iBAOJqB,YAAW;AAkBlB,iBAzBWrB,iBAyBJsB,aAAY;IACjBC,UAAU,CAACX,OAAyDY,OAAeC,OAAiBb,MAAMY,KAAK,CAACA,OAAOE,MAAM,CAAC,AAACD,CAAAA,OAAO,CAAA,IAAKD;AAC7I"}