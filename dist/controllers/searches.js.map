{"version":3,"sources":["../../src/controllers/searches.ts"],"sourcesContent":["// import auth from '@/middlewares/auth';\n// import FavorisFolderFile from '@/services/favFolders';\n// import FavorisServiceFile from '@/services/favoris';\n// import { idValidator, limitValidator, pageValidator, stringValidator } from '@libs/validate';\n// import mw from '@middlewares/mw';\n// import validator from '@middlewares/validator';\n// import Container from 'typedi';\n\n// const FavorisController = ({ app }) => {\n//   const FavorisServices = Container.get(FavorisServiceFile);\n//   const FavorisFolderServices = Container.get(FavorisFolderFile);\n//   app.post(\n//     '/create-search',\n//     mw([\n//       auth(),\n//       validator({\n//         body: {\n//           searchQueries: stringValidator.required(),\n//           searchFolderId: idValidator.required(),\n//         },\n//       }),\n//       async ({\n//         locals: {\n//           body: { searchQueries },\n//         },\n//         session: { sessionId },\n//         res,\n//         next,\n//       }) => {\n//         try {\n//           const success = await FavorisServices.createFav({ searchFolderId, searchQueries }, sessionId);\n//           res.send({ res: success });\n//         } catch (error) {\n//           next(error);\n//         }\n//       },\n//     ]),\n//   );\n//   app.delete(\n//     '/remove-search',\n//     mw([\n//       auth(),\n//       validator({\n//         query: {\n//           id: idValidator.required(),\n//         },\n//       }),\n//       async ({\n//         locals: {\n//           query: { id },\n//         },\n//         res,\n//         next,\n//       }) => {\n//         try {\n//           const success = await FavorisServices.removeFav({ id });\n//           res.send({ res: success });\n//         } catch (error) {\n//           next(error);\n//         }\n//       },\n//     ]),\n//   );\n//   app.get(\n//     '/get-searches',\n//     mw([\n//       auth(),\n//       validator({\n//         query: {\n//           limit: limitValidator.default(10),\n//           page: pageValidator.default(1),\n//           searchFolderName: stringValidator.required(),\n//         },\n//       }),\n//       async ({\n//         locals: {\n//           query: { limit, page, searchFolderName },\n//         },\n//         session: { sessionId },\n//         res,\n//         next,\n//       }) => {\n//         try {\n//           const favFolderModel = await FavorisFolderServices.getFolderByName(searchFolderName, sessionId);\n\n//           const { favoris, total } = await FavorisServices.getFavInFolder(limit, page, favFolderModel.id);\n\n//           res.send({ res: { list: favoris, meta: { total } } });\n//         } catch (error) {\n//           next(error);\n//         }\n//       },\n//     ]),\n//   );\n//   app.get(\n//     '/get-lastSearches',\n//     mw([\n//       auth(),\n//       async ({ session: { sessionId }, res, next }) => {\n//         try {\n//           const favoris = await FavorisServices.getLastFav(sessionId);\n\n//           res.send({ res: favoris });\n//         } catch (error) {\n//           next(error);\n//         }\n//       },\n//     ]),\n//   );\n// };\n// export default FavorisController;\n"],"names":[],"mappings":"AAAA,yCAAyC;AACzC,yDAAyD;AACzD,uDAAuD;AACvD,gGAAgG;AAChG,oCAAoC;AACpC,kDAAkD;AAClD,kCAAkC;AAElC,2CAA2C;AAC3C,+DAA+D;AAC/D,oEAAoE;AACpE,cAAc;AACd,wBAAwB;AACxB,WAAW;AACX,gBAAgB;AAChB,oBAAoB;AACpB,kBAAkB;AAClB,uDAAuD;AACvD,oDAAoD;AACpD,aAAa;AACb,YAAY;AACZ,iBAAiB;AACjB,oBAAoB;AACpB,qCAAqC;AACrC,aAAa;AACb,kCAAkC;AAClC,eAAe;AACf,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,2GAA2G;AAC3G,wCAAwC;AACxC,4BAA4B;AAC5B,yBAAyB;AACzB,YAAY;AACZ,WAAW;AACX,UAAU;AACV,OAAO;AACP,gBAAgB;AAChB,wBAAwB;AACxB,WAAW;AACX,gBAAgB;AAChB,oBAAoB;AACpB,mBAAmB;AACnB,wCAAwC;AACxC,aAAa;AACb,YAAY;AACZ,iBAAiB;AACjB,oBAAoB;AACpB,2BAA2B;AAC3B,aAAa;AACb,eAAe;AACf,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,qEAAqE;AACrE,wCAAwC;AACxC,4BAA4B;AAC5B,yBAAyB;AACzB,YAAY;AACZ,WAAW;AACX,UAAU;AACV,OAAO;AACP,aAAa;AACb,uBAAuB;AACvB,WAAW;AACX,gBAAgB;AAChB,oBAAoB;AACpB,mBAAmB;AACnB,+CAA+C;AAC/C,4CAA4C;AAC5C,0DAA0D;AAC1D,aAAa;AACb,YAAY;AACZ,iBAAiB;AACjB,oBAAoB;AACpB,sDAAsD;AACtD,aAAa;AACb,kCAAkC;AAClC,eAAe;AACf,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,6GAA6G;AAE7G,6GAA6G;AAE7G,mEAAmE;AACnE,4BAA4B;AAC5B,yBAAyB;AACzB,YAAY;AACZ,WAAW;AACX,UAAU;AACV,OAAO;AACP,aAAa;AACb,2BAA2B;AAC3B,WAAW;AACX,gBAAgB;AAChB,2DAA2D;AAC3D,gBAAgB;AAChB,yEAAyE;AAEzE,wCAAwC;AACxC,4BAA4B;AAC5B,yBAAyB;AACzB,YAAY;AACZ,WAAW;AACX,UAAU;AACV,OAAO;AACP,KAAK;AACL,oCAAoC"}