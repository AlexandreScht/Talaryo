{"version":3,"sources":["../../src/controllers/users.ts"],"sourcesContent":["import { stringValidator } from '@libs/validate';\nimport mw from '@middlewares/mw';\nimport validator from '@middlewares/validator';\nimport UsersServiceFile from '@services/users';\nimport { Container } from 'typedi';\n\nconst UsersController = ({ app }) => {\n  const UserServices = Container.get(UsersServiceFile);\n  app.patch(\n    '/validate-account',\n    mw([\n      validator({\n        body: {\n          accessToken: stringValidator.required(),\n        },\n      }),\n      async ({\n        locals: {\n          body: { accessToken },\n        },\n        res,\n        next,\n      }) => {\n        try {\n          await UserServices.ValidateUserAccount(accessToken);\n\n          res.status(201).send({ message: 'Your account has been successfully validated' });\n        } catch (error) {\n          next(error);\n        }\n      },\n    ]),\n  );\n};\nexport default UsersController;\n"],"names":["UsersController","app","UserServices","Container","get","UsersServiceFile","patch","mw","validator","body","accessToken","stringValidator","required","locals","res","next","ValidateUserAccount","status","send","message","error"],"mappings":";;;;+BAkCA;;;eAAA;;;0BAlCgC;2DACjB;kEACO;8DACO;wBACH;;;;;;AAE1B,MAAMA,kBAAkB,CAAC,EAAEC,GAAG,EAAE;IAC9B,MAAMC,eAAeC,iBAAS,CAACC,GAAG,CAACC,cAAgB;IACnDJ,IAAIK,KAAK,CACP,qBACAC,IAAAA,WAAE,EAAC;QACDC,IAAAA,kBAAS,EAAC;YACRC,MAAM;gBACJC,aAAaC,yBAAe,CAACC,QAAQ;YACvC;QACF;QACA,OAAO,EACLC,QAAQ,EACNJ,MAAM,EAAEC,WAAW,EAAE,EACtB,EACDI,GAAG,EACHC,IAAI,EACL;YACC,IAAI;gBACF,MAAMb,aAAac,mBAAmB,CAACN;gBAEvCI,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,SAAS;gBAA+C;YACjF,EAAE,OAAOC,OAAO;gBACdL,KAAKK;YACP;QACF;KACD;AAEL;MACA,WAAepB"}